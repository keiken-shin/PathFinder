(()=>{"use strict";const t=(t,s,e)=>{const i=t.split("-"),o=parseInt(i[0]),n=parseInt(i[1]),r=[];let a;return e[o-1]&&e[o-1][n]&&(a=`${(o-1).toString()}-${n.toString()}`,"wall"!==s[a].status&&r.unshift(a)),e[o][n+1]&&(a=`${o.toString()}-${(n+1).toString()}`,"wall"!==s[a].status&&r.unshift(a)),e[o+1]&&e[o+1][n]&&(a=`${(o+1).toString()}-${n.toString()}`,"wall"!==s[a].status&&r.unshift(a)),e[o][n-1]&&(a=`${o.toString()}-${(n-1).toString()}`,"wall"!==s[a].status&&r.unshift(a)),r};const s=t=>{return s=void 0,i=void 0,n=function*(){return new Promise((s=>{for(let i=0;i<t.length;i++)setTimeout((()=>{const e=t[i].id,o=document.getElementById(e);o.classList.contains("isStart")||o.classList.contains("isTarget")?o.classList.add("visited"):o.className="visited",i===t.length-1&&s(!0)}),e*i)}))},new((o=void 0)||(o=Promise))((function(t,e){function r(t){try{d(n.next(t))}catch(t){e(t)}}function a(t){try{d(n.throw(t))}catch(t){e(t)}}function d(s){var e;s.done?t(s.value):(e=s.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,a)}d((n=n.apply(s,i||[])).next())}));var s,i,o,n},e=12;class i{constructor(t,s,e){this.row=t,this.column=s,this.status=e,this.id=`${t}-${s}`,this.distance=0,this.previousNode=null}}const o={DFS:"Depth-first Search is <strong>&nbsp; unweighted &nbsp;</strong> and <strong>&nbsp; does not guarantee &nbsp;</strong> the shortest path!",BFS:"Breath-first Search is <strong>&nbsp; unweighted &nbsp;</strong> and <strong>&nbsp; does not guarantee &nbsp;</strong> the shortest path!"};var n,r,a;const d=Number(null===(n=document.querySelector(".header"))||void 0===n?void 0:n.clientHeight),h=Number(null===(r=document.querySelector(".description"))||void 0===r?void 0:r.clientHeight)+Number(null===(a=document.querySelector(".intro"))||void 0===a?void 0:a.clientHeight);new class{constructor(t,s){this.height=t,this.width=s,this.isStart="",this.isTarget="",this.allNodes={},this.grid=[],this.nodesInOrder=[],this.shortestPathNodesInOrder=[],this.visualizeComponent=document.querySelector("#visualize"),this.descriptionComponent=document.querySelector(".description"),this.initialStart={row:Math.floor(this.height/2),col:Math.floor(this.width/4)},this.initialTarget={row:Math.floor(this.height/2),col:Math.floor(3*this.width/4)},this.pressedNodeStatus="",this.mouseDown=!1,this.previouslySwitchedNode=null,this.previouslyPressedNodeStatus=""}initialize(){this.createGrid(),this.toggleSwitch(),this.eventListeners()}createGrid(){const t=document.querySelector("#board"),s=document.createElement("tbody");for(let e=0;e<this.height;e++){const o=[],n=document.createElement("tr");n.id=`row ${e}`;for(let t=0;t<this.width;t++){const s=`${e}-${t}`;let r,a;e===this.initialStart.row&&t===this.initialStart.col?(r="isStart",this.isStart=s):e===this.initialTarget.row&&t===this.initialTarget.col?(r="isTarget",this.isTarget=s):r="unvisited",a=new i(e,t,r),o.push(a),this.allNodes[s]=a;const d=document.createElement("td");d.id=s,d.classList.add(r),n.append(d)}this.grid.push(o),s.append(n),t.append(s)}this.visualizeComponent.addEventListener("click",(()=>{const t=this.visualizeComponent.getAttribute("data-visualize");""!==t&&this.drawShortestPath(t)}))}toggleSwitch(){document.querySelector("#algorithms-list").addEventListener("mousedown",(t=>{const s=t.target.dataset.id;s&&(this.visualizeComponent.textContent=`Visualize ${s}`,this.visualizeComponent.setAttribute("data-visualize",`${s}`),this.descriptionComponent.innerHTML=o[s])}))}drawShortestPath(i){return o=this,n=void 0,a=function*(){if("DFS"===i){((s,e,i,o,n)=>{if(""===e||""===i||e===i)return!1;let r=[s[e]];const a={startNode:!0};for(;r.length;){let e=r.pop();if(a[e.id]=!0,n.push(e),e.status="visited",e.id===i)return!0;t(e.id,s,o).forEach((t=>{a[t]||(s[t].previousNode=e,r.push(s[t]))}))}})(this.allNodes,this.isStart,this.isTarget,this.grid,this.nodesInOrder);const i=yield s(this.nodesInOrder);console.log(this.nodesInOrder),i&&((t,s,i,o)=>{let n=o[i];for(;null!==n;)t.unshift(n),n=o[n.id].previousNode;for(let s=0;s<t.length;s++)setTimeout((()=>{const e=t[s].id,i=document.getElementById(e);i.classList.contains("isStart")||i.classList.contains("isTarget")?i.classList.add("shortest-path"):i.className="shortest-path"}),e*(2*s))})(this.shortestPathNodesInOrder,this.isStart,this.isTarget,this.allNodes)}},new((r=void 0)||(r=Promise))((function(t,s){function e(t){try{d(a.next(t))}catch(t){s(t)}}function i(t){try{d(a.throw(t))}catch(t){s(t)}}function d(s){var o;s.done?t(s.value):(o=s.value,o instanceof r?o:new r((function(t){t(o)}))).then(e,i)}d((a=a.apply(o,n||[])).next())}));var o,n,r,a}eventListeners(){Object.entries(this.allNodes).map((t=>{const[s,e]=t,i=document.getElementById(s);i.addEventListener("mousedown",(s=>{const i=s.target;this.mouseDown=!0,"isStart"===e.status||"isTarget"===e.status?this.pressedNodeStatus=e.status:(this.changeNormalNode(i,e),console.log(t))})),i.addEventListener("mouseup",(()=>{this.mouseDown=!1,"isStart"===this.pressedNodeStatus?this.isStart=s:"isTarget"===this.pressedNodeStatus&&(this.isTarget=s),this.pressedNodeStatus="normal"})),i.addEventListener("mouseenter",(t=>{if(this.mouseDown){const i=t.target;this.mouseDown&&"normal"!==this.pressedNodeStatus?(this.changeSpecialNode(i,e),"isStart"===this.pressedNodeStatus?this.isStart=s:"isTarget"===this.pressedNodeStatus&&(this.isTarget=s)):this.changeNormalNode(i,e)}})),i.addEventListener("mouseleave",(t=>{const s=t.target;this.mouseDown&&"normal"!==this.pressedNodeStatus&&this.changeSpecialNode(s,e)}))}))}changeNormalNode(t,s){["isStart","isTarget"].includes(s.status)||(t.className="unvisited"===s.status?"wall":"unvisited",s.status="unvisited"===t.className?"unvisited":"wall")}changeSpecialNode(t,s){let e=null;null!==this.previouslySwitchedNode&&(e=document.getElementById(this.previouslySwitchedNode.id)),"isStart"!==s.status&&"isTarget"!==s.status?this.previouslySwitchedNode&&(this.previouslySwitchedNode.status=this.previouslyPressedNodeStatus,e.className=this.previouslyPressedNodeStatus,this.previouslySwitchedNode=null,this.previouslyPressedNodeStatus=s.status,t.className=this.pressedNodeStatus,s.status=this.pressedNodeStatus):s.status!==this.pressedNodeStatus?this.previouslySwitchedNode&&(this.previouslySwitchedNode.status=this.pressedNodeStatus,e.className=this.pressedNodeStatus):s.status===this.pressedNodeStatus&&(this.previouslySwitchedNode=s,t.className=this.previouslyPressedNodeStatus,s.status=this.previouslyPressedNodeStatus)}}(Math.floor((Number(document.documentElement.scrollHeight)-d-h)/28),Math.floor(Number(document.documentElement.clientWidth)/25)).initialize()})();
//# sourceMappingURL=main.js.map